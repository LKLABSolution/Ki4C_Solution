@{
    Layout = null;    
}
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>LKLabHome</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content=""/>
    <!-- css -->
    <link href="/resources/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="/resources/css/fancybox/jquery.fancybox.css" rel="stylesheet">
    <link href="/resources/css/jcarousel.css" rel="stylesheet"/>
    <link href="/resources/css/flexslider.css" rel="stylesheet"/>
    <link href="/resources/css/style.css" rel="stylesheet"/>

    <!-- Theme skin -->
    <link href="/resources/skins/default.css" rel="stylesheet"/>

    <!-- javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.2.4.js"></script>
    <script src="/resources/js/jquery.easing.1.3.js"></script>
    <script src="/resources/js/bootstrap.min.js"></script>
    <script src="/resources/js/jquery.fancybox.pack.js"></script>
    <script src="/resources/js/jquery.fancybox-media.js"></script>
    <script src="/resources/js/google-code-prettify/prettify.js"></script>
    <script src="/resources/js/portfolio/jquery.quicksand.js"></script>
    <script src="/resources/js/portfolio/setting.js"></script>
    <script src="/resources/js/jquery.flexslider.js"></script>
    <script src="/resources/js/animate.js"></script>
    <script src="/resources/js/custom.js"></script>
    <link href="~/css/common.css" rel="stylesheet" />
</head>
<body>
<!-- 컨텐츠 영역 : s -->
<div id="contents_wrap">
    <header></header>
    <!-- <div class="menu_loacation">
        <div class="container">
            <a href="/Main/PUB" class="home" title="메인페이지로 이동"></a>
            <span class="depth pointer" onClick="document.location.href='/82_Menu/JoinStep1/PUB';">회원가입</span>
            <span class="depth"><b>회원 기본정보 입력</b></span>
        </div>
    </div> -->

    <div class="contents">
        <div class="container">
            <h2>회원가입</h2>

            <div class="member_step">
                <!-- Web ver -->
                <span>약관 및 개인정보취급방침 동의</span>
                <span class="current">회원 기본정보 입력</span>
                <span>가입 완료</span>
                <!-- Mobile ver -->
                <h3 class="current">회원 기본정보 입력</h3>
            </div>

            <div class="join_area">
                <div class="txt_welcome">
                    Ki4C   회원가입을 진심으로 환영합니다
                </div>
                <form name="form">
                    <input type="hidden" id="agreement" name="agreement" value="Y"/>
                    <input type="hidden" id="privacy" name="privacy" value="Y"/>
                    <table>
                        <caption></caption>
                        <colgroup>
                            <col class="th_wdth">
                            <col>
                        </colgroup>
                        <tr>
                            <th>아이디</th>
                            <td>
                                <div class="input_id">
                                    <div><input type="text" name="member_id" id="member_id" /></div>
                                    <a href="#duplicate1" class="btnDPCheck1 btn btnS btnGray_brd" id="idck">중복확인</a>
                                </div>
                                <span class="txt"><em class="red">4 ~ 15자리 이내</em>의 영문과 숫자로만 입력</span>
                            </td>
                        </tr>
                        <tr>
                            <th>이메일</th>
                            <td>
                                <div class="input_id">
                                    <div><input type="email" name="member_mail" id="member_mail" /></div>
                                    <a href="#duplicate2" class="btnDPCheck2 btn btnS btnGray_brd" id="mailck">중복확인</a>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th>비밀번호</th>
                            <td>
                                <div class="input_id"><input type="password" class="pass" name="member_pass"
                                                             id="member_pass" oninput="checkPwd()" /></div>
                                <span class="txt">8자리 이상 사용</span>
                            </td>
                        </tr>
                        <tr>
                            <th>비밀번호 확인</th>
                            <td>
                                <div><input type="password" class="pass" name="member_passChk" oninput="checkPwd()"
                                            id="repwd" /></div>
                            </td>
                        </tr>
                        <tr>
                            <th>이름</th>
                            <td>
                                <div class="input_id">
                                    <div><input type="text" name="member_name" id="member_name" /></div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th>소속 / 직책</th>
                            <td>
                                <div class="input_id">
                                    <div><input type="text" class="form-control" name="member_company"
                                                id="member_company" placeholder="소속" /></div>
                                </div>
                                <div class="input_id">
                                    <div><input type="text" class="form-control" name="member_position"
                                                id="member_position" placeholder="직책" /></div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th rowspan="2">주소</th>
                            <td>
                                <div class="input_id">
                                    <input style="width: 50%; display: inline;" placeholder="우편번호" name="member_zipcode"
                                           id="add1" type="text" readonly="readonly" />
                                    <button type="button" class="btnDPCheck2 btn btnS btnGray_brd"
                                            onclick="execPostCode();"><i class="fa fa-search"></i> 우편번호 찾기
                                    </button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="input_id">
                                    <input class="form-control" style="top: 5px;" placeholder="도로명 주소"
                                           name="member_addr1" id="add2" type="text" readonly="readonly" />
                                </div>
                                <div class="input_id">
                                    <input class="form-control" placeholder="상세주소" name="member_addr2" id="add3"
                                           type="text" />
                                </div>

                            </td>
                        </tr>
                        <tr>
                            <th>핸드폰</th>
                            <td>
                                <div>
                                    <input type="text" id="member_phone" name="member_phone" />
                                    <span class="txt">(-)포함하여 입력 ex) 010-1111-2222</span>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th>(주)엘케이랩 <br/>메일링 수신</th>
                            <td>
                                <input type="radio" id="member_mailaccept1" name="member_mailaccept" value="Y"
                                       checked="checked"/>
                                <label for="pub_y">예</label>
                                <input type="radio" id="member_mailaccept2" name="member_mailaccept" value="N"/>
                                <label for="pub_n">아니오 </label>
                            </td>
                        </tr>
                    </table>
                </form>
            </div>

            <div class="btn_area btm_area tCenter">
                @*<button class="btnJoin btn btnL btnBlack signupbtn" disabled="disabled" onClick="inputValide();">가입하기
                </button>*@
                    <button class="btnJoin btn btnL btnBlack signupbtn" asp-controller="member" asp-action="MemberRegFinished">
                        가입하기
                    </button>
                <a href="/" class="btn btnL btnGray">취소</a>
            </div>

        </div>
    </div>


</div>

<script src="http://dmaps.daum.net/map_js_init/postcode.v2.js"></script>
@*<script type="text/javascript">

    $(function () {
        $('header').load('/include/header.html')
    });

    $(function () {
        $('footer').load('/include/footer.html')
    });

    function execPostCode() {
        new daum.Postcode({
            oncomplete: function (data) {
                // 팝업에서 검색결과 항목을 클릭했을때 실행할 코드를 작성하는 부분.

                // 도로명 주소의 노출 규칙에 따라 주소를 조합한다.
                // 내려오는 변수가 값이 없는 경우엔 공백('')값을 가지므로, 이를 참고하여 분기 한다.
                var fullRoadAddr = data.roadAddress; // 도로명 주소 변수
                var extraRoadAddr = ''; // 도로명 조합형 주소 변수

                // 법정동명이 있을 경우 추가한다. (법정리는 제외)
                // 법정동의 경우 마지막 문자가 "동/로/가"로 끝난다.
                if (data.bname !== '' && /[동|로|가]$/g.test(data.bname)) {
                    extraRoadAddr += data.bname;
                }
                // 건물명이 있고, 공동주택일 경우 추가한다.
                if (data.buildingName !== '' && data.apartment === 'Y') {
                    extraRoadAddr += (extraRoadAddr !== '' ? ', ' + data.buildingName : data.buildingName);
                }
                // 도로명, 지번 조합형 주소가 있을 경우, 괄호까지 추가한 최종 문자열을 만든다.
                if (extraRoadAddr !== '') {
                    extraRoadAddr = ' (' + extraRoadAddr + ')';
                }
                // 도로명, 지번 주소의 유무에 따라 해당 조합형 주소를 추가한다.
                if (fullRoadAddr !== '') {
                    fullRoadAddr += extraRoadAddr;
                }

                // 우편번호와 주소 정보를 해당 필드에 넣는다.
                console.log(data.zonecode);
                console.log(fullRoadAddr);


                $("[name=member_zipcode]").val(data.zonecode);
                $("[name=member_addr1]").val(fullRoadAddr);

                /* document.getElementById('signUpUserPostNo').value = data.zonecode; //5자리 새우편번호 사용
                document.getElementById('signUpUserCompanyAddress').value = fullRoadAddr;
                document.getElementById('signUpUserCompanyAddressDetail').value = data.jibunAddress; */
            }
        }).open();
    }
    
    //아이디 체크여부 확인 (아이디 중복일 경우 = 0 , 중복이 아닐경우 = 1 )
    var userid = "";
    var idck = 0;
    $(function () {
        //idck 버튼을 클릭했을 때
        $("#idck").click(function () {

            //userid 를 param.
            userid = $("#member_id").val();
            var	idRule = /((?![0-9]{4,15})(^[A-Za-z0-9]{4,15}$))/;

           	if(!idRule.test(userid)) {
           	    alert("아이디는 4~15자의 영문과 숫자로만 입력해주세요.")
           	    return false;
           	}

           	$.ajax({
                async: true,
                type: 'POST',
                data: userid,
                url: "/auth/idcheck",
                dataType: "json",
                contentType: "application/json; charset=UTF-8",
                success: function (data) {
                
                    if (data.cnt > 0) {

                        alert("아이디가 존재합니다. 다른 아이디를 입력해주세요.");
                        $("#member_id").focus();


                    } else if (data.cnt == -1) {
                        alert("아이디를 입력해주세요");
                        $("#member_mail").focus();

                    } else {
                        alert("사용가능한 아이디입니다.");
                        $("#member_mail").focus();
                        //아이디가 중복하지 않으면  idck = 1
                        idck = 1;
                    	regCheck();

                    }
                },
                error: function (error) {

                    alert("아이디를 입력해주세요");
                }
            });
        });
    });
    
    //이메일 중복 체크여부 확인 (중복일 경우 = 0 , 중복이 아닐경우 = 1 )
    var userMail = "";
    var mailck = 0;
    @*$(function () {
        //mailck 버튼을 클릭했을 때
        $("#mailck").click(function () {

            //mail 를 param.
            userMail = $("#member_mail").val();
            var regExp = /^[^@\W]+@{1}[A-Za-z]+\.{1}[A-Za-z]+$/i;

            $.ajax({
                async: true,
                type: 'POST',
                data: userMail,
                url: "/auth/mailcheck",
                dataType: "json",
                contentType: "application/json; charset=UTF-8",
                success: function (data) {
                
                	if(!regExp.test(userMail)) {
                	    alert("이메일 형식이 맞지 않습니다.")
                	    return false;
                	}
                
                    if (data.cnt > 0) {

                        alert("이메일이 존재합니다. 다른 이메일을 입력해주세요.");
                        $("#member_mail").focus();

                    } else if (data.cnt == -1) {
                        alert("이메일을 입력해주세요");
                        $("#member_mail").focus();

                    } else {
                        alert("사용가능한 이메일 입니다.");
                        $("#member_pass").focus();
                        //아이디가 중복하지 않으면  mailck = 1
                        mailck = 1;
                        regCheck();


                    }
                },
                error: function (error) {

                    alert("이메일을 입력해주세요");
                }
            });
        });
    });


    //재입력 비밀번호 체크하여 가입버튼 비활성화 또는 맞지않음을 알림.
    var pwdCheck = 0;
    function checkPwd() {
        var inputed = $('#member_pass').val();
        var reinputed = $('#repwd').val();
        
        var passExp = /^\S{8,}$/;
        
        if(!passExp.test(inputed) || !passExp.test(reinputed)) {
        	pwdFail();
        	return false;
        }

        if(inputed != reinputed) {
        	pwdFail();
        	return false;
        }
        
        pwdPass();
	}

    // 비밀번호 성공
    function pwdPass() {
        pwdCheck = 1;
    	$("#repwd").css("background-color", "#FCFADB");
    	regCheck();
    }
    
    // 비밀번호 실패
    function pwdFail() {
    	pwdCheck = 0;
        $("#repwd").css("background-color", "#FFCECE");
        regCheck();
    }
    
    // 가입버튼 활성화 및 비활성화
    function regCheck() {
    	if(idck == 1 && mailck == 1 && pwdCheck == 1) {
    		$(".signupbtn").prop("disabled", false);
            $(".signupbtn").css("background-color", "#656565");
    	} else {
    		$(".signupbtn").prop("disabled", true);
            $(".signupbtn").css("background-color", "#aaaaaa");
    	}
    }
    
	// 가입버튼 클릭시 입력값 확인 후 동작
    function inputValide() {
    	
    	checkPwd();
    	
		var phoneExp = /^01([0|1|6|7|8|9])-([0-9]{3,4})-([0-9]{4})$/;
		
		var member_name = $('#member_name').val();
		var member_company = $('#member_company').val();
		var member_position = $('#member_position').val();
		var member_zipcode = $('#add1').val();
		var member_address = $('#add2').val() + $('#add3').val();
		var member_phone = $('#member_phone').val();
        
		if(idck != 1 || mailck != 1 || pwdCheck != 1) {
    	    alert("입력값이 잘못되었습니다.");
    	    return false;
		}
		
    	if(!phoneExp.test(member_phone)) {
    	    alert("휴대폰 번호는 (-)포함하여 형식에 맞게 입력해주세요");
    	    return false;
    	}
    	
    	if(member_name == "") {
    	    alert("이름을 입력해주세요.");
    	    return false;
    	}
    	
    	if(member_company == "") {
    	    alert("소속을 입력해주세요.");
    	    return false;
    	}
    	
    	if(member_position == "") {
    	    alert("직책을 입력해주세요.");
    	    return false;
    	}
    	
    	if(member_zipcode == "") {
    	    alert("주소를 입력해주세요.");
    	    return false;
    	}
    	
    	if(member_address == "") {
    	    alert("상세주소를 입력해주세요.");
    	    return false;
    	}
    	
   		regSubmit();
    }
    
   	function regSubmit() {

        var member = {
            member_id: userid,
            member_mail: userMail,
            member_pass: $('#member_pass').val(),
            member_name: $('#member_name').val(),
            member_zipcode: $('#add1').val(),
            member_address: $('#add2').val() + $('#add3').val(),
            member_mailaccept: $('input[name="member_mailaccept"]:checked').val(),
            member_phone: $('#member_phone').val(),
            member_company: $('#member_company').val(),
            member_position: $('#member_position').val(),

        };

        $.ajax({
            type: 'post',
            url: '/auth/memberRegAction',
            contentType: "application/json",
            data: JSON.stringify(member),
            processData: false,
            cache: false,
            success: function (result) {
            	
                //다음페이지
                if (idck == 0 || mailck == 0) {
                    alert("아이디 또는 이메일 중복체크를 해주세요.");
                    return false;
                } else {

                    //alert("가입 성공");
                    location.href = "/auth/memberCom";
                }
            	
            },
            error: function (error) {
                alert("아이디 또는 이메일 중복체크를 해주세요.");
                console.log(error);
                console.log(error.status);

                /* location.href = "/auth/memberRegForm"; */

            }

        });
    }

   
    
</script>*@
<!-- 컨텐츠 영역 : e -->
<footer></footer>
</body>
</html>